/* === Reset + Vars === */
:root{
  --bg:#0b0c10;--card:#14161b;--ink:#e8e8ea;--muted:#9aa0a6;--acc:#7dd3fc;--acc2:#a78bfa;--ok:#86efac;--err:#fca5a5;--chip:#0f1116;--border:#23252c;
}
/* Temas */
[data-theme="pastel"] { --bg:#0b0c10;--card:#15171c;--ink:#e6e6e6;--muted:#9aa0a6;--acc:#7dd3fc;--acc2:#a78bfa;--ok:#86efac;--err:#fca5a5;--chip:#0f1116;--border:#23252c;}
[data-theme="dark"]   { --bg:#000000;--card:#0e0f12;--ink:#e4e4e7;--muted:#9ca3af;--acc:#60a5fa;--acc2:#22d3ee;--ok:#4ade80;--err:#f87171;--chip:#0a0a0b;--border:#23252c;}
[data-theme="ocean"]  { --bg:#071923;--card:#0c2733;--ink:#e6f6ff;--muted:#9bd1e5;--acc:#38bdf8;--acc2:#34d399;--ok:#86efac;--err:#fda4af;--chip:#0a2230;--border:#1f3a46;}
[data-theme="forest"] { --bg:#0b140e;--card:#132017;--ink:#e8f1ea;--muted:#a8bfae;--acc:#86efac;--acc2:#fde047;--ok:#86efac;--err:#fca5a5;--chip:#0f1b14;--border:#213426;}
[data-theme="rose"]   { --bg:#1a1014;--card:#24141b;--ink:#ffeef4;--muted:#f4b4c8;--acc:#f472b6;--acc2:#a78bfa;--ok:#86efac;--err:#fca5a5;--chip:#1b0f14;--border:#3a2731;}
[data-theme="mono"]   { --bg:#0e0e0e;--card:#151515;--ink:#ededed;--muted:#9e9e9e;--acc:#ededed;--acc2:#c2c2c2;--ok:#b7f0b4;--err:#f0b4b4;--chip:#0f0f0f;--border:#262626;}
/* Claros */
[data-theme="light"]  { --bg:#f6f7fb;--card:#ffffff;--ink:#0f172a;--muted:#64748b;--acc:#2563eb;--acc2:#22c55e;--ok:#16a34a;--err:#dc2626;--chip:#f1f5f9;--border:#e5e7eb;}
[data-theme="paper"]  { --bg:#faf7f2;--card:#ffffff;--ink:#1f2937;--muted:#6b7280;--acc:#0ea5e9;--acc2:#f59e0b;--ok:#16a34a;--err:#dc2626;--chip:#f5f3ee;--border:#e7e2dc;}

*{box-sizing:border-box}
html,body{height:100%}
body{
  margin:0;
  background:linear-gradient(180deg,var(--bg) 0%, #0d1016 100%);
  color:var(--ink);
  font:14px/1.5 system-ui,Segoe UI,Roboto,Inter,-apple-system,BlinkMacSystemFont;
}

/* === Shell fijo (header + tabs + panel) === */
.container{
  max-width:1100px;
  margin:0 auto;
  padding:16px;
  /* Altura fija de app para que el panel NO cambie tamaño */
  min-height:100vh;
  display:grid;
  grid-template-rows: 64px 52px 1fr;
  gap:12px;
}

/* Header fijo altura 64px */
.header{
  height:64px;
  display:flex; align-items:center; justify-content:space-between;
  position:sticky; top:0;
  z-index:2;
}
.brand{display:flex; align-items:center; gap:8px}
.title{font-size:20px; font-weight:800}
.badge{padding:4px 8px;border-radius:999px;background:var(--chip);border:1px solid var(--border);color:var(--muted);}

/* Tabs barra fija altura 52px */
.tabs{
  height:52px;
  display:flex; gap:8px; align-items:center;
  position:sticky; top:64px; z-index:1;
}
.tab{
  height:36px; padding:8px 12px; border-radius:12px;
  border:1px solid var(--border); background:var(--chip);
  cursor:pointer; font-weight:600;
  display:flex; align-items:center;
}
.tab.active{ background:linear-gradient(90deg,rgba(125,211,252,.15),rgba(167,139,250,.15));}

/* Panel fijo (no cambia tamaño); el interior scrollea */
.panel{
  border:1px solid var(--border);
  background:var(--card);
  border-radius:16px;
  box-shadow:0 6px 30px rgba(0,0,0,.25);
  /* Altura del panel: fija respecto a viewport menos header+tabs+padding */
  min-height: calc(100vh - 64px - 52px - 16px*2 - 12px*2);
  display:flex; flex-direction:column;
}
.panel-header{
  padding:14px 16px; border-bottom:1px solid var(--border);
  display:flex; align-items:center; justify-content:space-between; gap:8px;
}
.panel-body{
  padding:16px;
  overflow:auto; /* <- el contenido scrollea, el panel NO cambia tamaño */
}

/* Tarjetas internas estables */
.card{
  background:var(--card);
  border:1px solid var(--border);
  border-radius:12px;
  padding:12px;
}

/* Controles con alturas fijas para que no “salten” */
.btn,.btn-primary,.btn.secondary,.btn.ghost{
  height:36px; padding:0 12px; border-radius:10px;
  border:1px solid transparent; font-weight:700; cursor:pointer;
  display:inline-flex; align-items:center; justify-content:center;
}
.btn{ background:var(--acc); color:#082431; }
.btn-primary{ background:var(--acc); color:#082431; }
.btn.secondary{ background:var(--chip); color:var(--ink); border-color:var(--border); }
.btn.ghost{ background:transparent; color:var(--ink); border-color:var(--border); }

.select{
  height:36px; padding:0 10px; border-radius:10px; border:1px solid var(--border);
  background:var(--chip); color:var(--ink);
}
.input{
  height:36px; padding:0 12px; border-radius:10px;
  border:1px solid var(--border); background:var(--chip); color:var(--ink); width:100%;
}
.row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
.grid{display:grid; gap:12px}
.grid.cols-2{grid-template-columns:1fr 1fr}
.grid.cols-3{grid-template-columns:1fr 1fr 1fr}
.hr{border-top:1px solid var(--border); margin:12px 0}
.list{list-style:none; margin:0; padding:0}
.item{
  display:flex; justify-content:space-between; align-items:center;
  padding:10px; border:1px solid var(--border); border-radius:12px; background:var(--chip); margin:6px 0;
}
.meta{ color:var(--muted); font-size:12px; margin-top:4px }

/* Panel de DMs: contenedor interior con altura fija */
.dm-box{
  height:280px; overflow:auto; margin-top:8px;
  border:1px solid var(--border); border-radius:12px; padding:8px; background:var(--chip);
}

/* Mantener alto mínimo de secciones internas para que el layout sea estable */
.section-min{ min-height: 420px; }

/* Responsive */
@media (max-width: 960px){
  .grid.cols-3{grid-template-columns:1fr}
  .grid.cols-2{grid-template-columns:1fr}
}
